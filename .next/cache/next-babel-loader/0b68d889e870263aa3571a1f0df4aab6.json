{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"C:\\\\wamp64\\\\www\\\\projek\\\\creatella-react-front\\\\components\\\\List.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from 'react';\nimport ApiContext from '../context/ApiContext';\nimport { Row, Col, Container, Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from 'reactstrap';\n\nfunction List() {\n  var _useContext = useContext(ApiContext),\n      list = _useContext.list;\n\n  var _useState = useState([]),\n      listing = _useState[0],\n      setlisting = _useState[1];\n\n  var _useState2 = useState(false),\n      fetchData = _useState2[0],\n      setfetchData = _useState2[1];\n\n  var _useState3 = useState(0),\n      limit = _useState3[0],\n      setlimit = _useState3[1];\n\n  useEffect(function () {\n    if (list) {\n      var x = list;\n      x = x.slice(0, 20);\n      setlisting(x);\n    }\n  }, [list]);\n  useEffect(function () {\n    if (!fetchData) return;\n    fetchMoreListItems(20);\n  }, [fetchData]);\n  useEffect(function () {\n    window.addEventListener('scroll', handleScroll);\n    return function () {\n      return window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  function handleScroll() {\n    if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || limit) {\n      setlimit(function (x) {\n        return x + 1;\n      });\n      setfetchData(true);\n    }\n  }\n\n  function fetchMoreListItems(q) {\n    setTimeout(function () {\n      var l = listing.length;\n      var x = list;\n      var y = q;\n      var z = limit * 20;\n      x = x.slice(z, z + 20);\n      setlisting(function (prevState) {\n        return [].concat(_toConsumableArray(prevState), [x]);\n      });\n      setfetchData(false);\n    }, 2000);\n  }\n\n  return __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, listing.map(function (v, i) {\n    var size = \"\".concat(v.size, \"px\");\n    var cents = \"$ \".concat(v.price / 100);\n    var finalDate = null;\n    var oldDate = new Date(v.date);\n    var today = new Date();\n    var weekAgo = today.getDate() - 7;\n\n    if (oldDate.getTime() > weekAgo.getTime() && oldDate.getTime() < today.getTime()) {\n      var diff = (today.getTime() - oldDate.getTime()) / (1000 * 3600 * 24);\n      finalDate = \"\".concat(diff, \" days ago\");\n    } else {\n      var day = oldDate.getDate();\n      var month = oldDate.getMonth() + 1;\n      var year = oldDate.getFullYear();\n      finalDate = \"\".concat(day, \"/\").concat(month, \"/\").concat(year);\n    }\n\n    return __jsx(Col, {\n      sm: \"6\",\n      xs: \"6\",\n      md: \"2\",\n      key: i,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, __jsx(Card, {\n      style: {\n        height: '170.15px',\n        width: '140.2px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(CardBody, {\n      style: {\n        padding: '0.25rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, __jsx(CardTitle, {\n      style: {\n        fontSize: '12px',\n        lineHeight: '1',\n        textAlign: 'left',\n        letterSpacing: '0',\n        color: '#4d4d4d',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, v.face), __jsx(CardText, {\n      style: {\n        position: \"absolute\",\n        bottom: '0',\n        color: '#E01A1A',\n        fontSize: '14px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, size), __jsx(CardText, {\n      style: {\n        position: \"absolute\",\n        bottom: '0',\n        color: '#E01A1A',\n        fontSize: '14px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, cents), __jsx(CardText, {\n      style: {\n        position: \"absolute\",\n        bottom: '0',\n        color: '#E01A1A',\n        fontSize: '14px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, finalDate))), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }));\n  }));\n}\n\nexport default List;","map":{"version":3,"sources":["C:/wamp64/www/projek/creatella-react-front/components/List.js"],"names":["React","useContext","useState","useEffect","ApiContext","Row","Col","Container","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","List","list","listing","setlisting","fetchData","setfetchData","limit","setlimit","x","slice","fetchMoreListItems","window","addEventListener","handleScroll","removeEventListener","innerHeight","document","documentElement","scrollTop","offsetHeight","q","setTimeout","l","length","y","z","prevState","map","v","i","size","cents","price","finalDate","oldDate","Date","date","today","weekAgo","getDate","getTime","diff","day","month","getMonth","year","getFullYear","cursor","height","width","padding","fontSize","lineHeight","textAlign","letterSpacing","color","fontWeight","face","position","bottom"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,SAArC,QAAqD,OAArD;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SACIC,GADJ,EAEIC,GAFJ,EAGIC,SAHJ,EAIIC,IAJJ,EAIUC,OAJV,EAImBC,QAJnB,EAI6BC,QAJ7B,EAKEC,SALF,EAKaC,YALb,QAMO,YANP;;AAQA,SAASC,IAAT,GAAgB;AAAA,oBACGb,UAAU,CAACG,UAAD,CADb;AAAA,MACLW,IADK,eACLA,IADK;;AAAA,kBAEkBb,QAAQ,CAAC,EAAD,CAF1B;AAAA,MAELc,OAFK;AAAA,MAEIC,UAFJ;;AAAA,mBAGsBf,QAAQ,CAAC,KAAD,CAH9B;AAAA,MAGLgB,SAHK;AAAA,MAGMC,YAHN;;AAAA,mBAIcjB,QAAQ,CAAC,CAAD,CAJtB;AAAA,MAILkB,KAJK;AAAA,MAIEC,QAJF;;AAMZlB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIY,IAAJ,EAAU;AACN,UAAIO,CAAC,GAAGP,IAAR;AACAO,MAAAA,CAAC,GAAGA,CAAC,CAACC,KAAF,CAAQ,CAAR,EAAU,EAAV,CAAJ;AACAN,MAAAA,UAAU,CAACK,CAAD,CAAV;AACH;AACJ,GANQ,EAMN,CAACP,IAAD,CANM,CAAT;AAQAZ,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAI,CAACe,SAAL,EAAgB;AAChBM,IAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACH,GAHQ,EAGN,CAACN,SAAD,CAHM,CAAT;AAKAf,EAAAA,SAAS,CAAC,YAAM;AACZsB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,YAAlC;AACA,WAAO;AAAA,aAAMF,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCD,YAArC,CAAN;AAAA,KAAP;AACH,GAHQ,EAGN,EAHM,CAAT;;AAKA,WAASA,YAAT,GAAwB;AACpB,QAAIF,MAAM,CAACI,WAAP,GAAqBC,QAAQ,CAACC,eAAT,CAAyBC,SAA9C,KAA4DF,QAAQ,CAACC,eAAT,CAAyBE,YAArF,IAAqGb,KAAzG,EAA+G;AAC3GC,MAAAA,QAAQ,CAAC,UAACC,CAAD;AAAA,eAAOA,CAAC,GAAG,CAAX;AAAA,OAAD,CAAR;AACAH,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;AACJ;;AAED,WAASK,kBAAT,CAA4BU,CAA5B,EAA+B;AAC3BC,IAAAA,UAAU,CAAC,YAAM;AACb,UAAIC,CAAC,GAAGpB,OAAO,CAACqB,MAAhB;AACA,UAAIf,CAAC,GAAGP,IAAR;AACA,UAAIuB,CAAC,GAAGJ,CAAR;AACA,UAAIK,CAAC,GAAGnB,KAAK,GAAG,EAAhB;AACAE,MAAAA,CAAC,GAAGA,CAAC,CAACC,KAAF,CAAQgB,CAAR,EAAUA,CAAC,GAAG,EAAd,CAAJ;AACAtB,MAAAA,UAAU,CAAC,UAAAuB,SAAS;AAAA,4CAASA,SAAT,IAAoBlB,CAApB;AAAA,OAAV,CAAV;AACAH,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,KARS,EAQP,IARO,CAAV;AASH;;AACD,SACI,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEAH,OAAO,CAACyB,GAAR,CAAY,UAACC,CAAD,EAAGC,CAAH,EAAS;AACjB,QAAIC,IAAI,aAAMF,CAAC,CAACE,IAAR,OAAR;AACA,QAAIC,KAAK,eAAQH,CAAC,CAACI,KAAF,GAAU,GAAlB,CAAT;AACA,QAAIC,SAAS,GAAG,IAAhB;AACA,QAAIC,OAAO,GAAG,IAAIC,IAAJ,CAASP,CAAC,CAACQ,IAAX,CAAd;AACA,QAAIC,KAAK,GAAG,IAAIF,IAAJ,EAAZ;AACA,QAAIG,OAAO,GAAGD,KAAK,CAACE,OAAN,KAAkB,CAAhC;;AACA,QAAIL,OAAO,CAACM,OAAR,KAAoBF,OAAO,CAACE,OAAR,EAApB,IAAyCN,OAAO,CAACM,OAAR,KAAoBH,KAAK,CAACG,OAAN,EAAjE,EAAmF;AAC/E,UAAIC,IAAI,GAAG,CAAEJ,KAAK,CAACG,OAAN,KAAkBN,OAAO,CAACM,OAAR,EAApB,KAA2C,OAAO,IAAP,GAAc,EAAzD,CAAX;AACAP,MAAAA,SAAS,aAAMQ,IAAN,cAAT;AACH,KAHD,MAGK;AACD,UAAIC,GAAG,GAAGR,OAAO,CAACK,OAAR,EAAV;AACA,UAAII,KAAK,GAAGT,OAAO,CAACU,QAAR,KAAqB,CAAjC;AACA,UAAIC,IAAI,GAAGX,OAAO,CAACY,WAAR,EAAX;AAEAb,MAAAA,SAAS,aAAMS,GAAN,cAAaC,KAAb,cAAsBE,IAAtB,CAAT;AACH;;AAID,WACI,MAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,EAAE,EAAC,GAAf;AAAmB,MAAA,EAAE,EAAC,GAAtB;AAA0B,MAAA,GAAG,EAAEhB,CAA/B;AAAkC,MAAA,KAAK,EAAE;AAACkB,QAAAA,MAAM,EAAC;AAAR,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAC,UAAR;AAAmBC,QAAAA,KAAK,EAAC;AAAzB,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,QAAD;AAAU,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAC;AAAT,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAC,MAAV;AAAiBC,QAAAA,UAAU,EAAC,GAA5B;AAAgCC,QAAAA,SAAS,EAAC,MAA1C;AAAiDC,QAAAA,aAAa,EAAC,GAA/D;AAAmEC,QAAAA,KAAK,EAAC,SAAzE;AAAoFC,QAAAA,UAAU,EAAC;AAA/F,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2H5B,CAAC,CAAC6B,IAA7H,CADJ,EAEI,MAAC,QAAD;AAAU,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAC,UAAV;AAAqBC,QAAAA,MAAM,EAAC,GAA5B;AAAgCJ,QAAAA,KAAK,EAAC,SAAtC;AAAgDJ,QAAAA,QAAQ,EAAC,MAAzD;AAAiEK,QAAAA,UAAU,EAAC;AAA5E,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuG1B,IAAvG,CAFJ,EAGI,MAAC,QAAD;AAAU,MAAA,KAAK,EAAE;AAAC4B,QAAAA,QAAQ,EAAC,UAAV;AAAqBC,QAAAA,MAAM,EAAC,GAA5B;AAAgCJ,QAAAA,KAAK,EAAC,SAAtC;AAAgDJ,QAAAA,QAAQ,EAAC,MAAzD;AAAiEK,QAAAA,UAAU,EAAC;AAA5E,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuGzB,KAAvG,CAHJ,EAII,MAAC,QAAD;AAAU,MAAA,KAAK,EAAE;AAAC2B,QAAAA,QAAQ,EAAC,UAAV;AAAqBC,QAAAA,MAAM,EAAC,GAA5B;AAAgCJ,QAAAA,KAAK,EAAC,SAAtC;AAAgDJ,QAAAA,QAAQ,EAAC,MAAzD;AAAiEK,QAAAA,UAAU,EAAC;AAA5E,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuGvB,SAAvG,CAJJ,CADJ,CADJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,CADJ;AAaH,GAjCD,CAFA,CADJ;AAwCH;;AAED,eAAejC,IAAf","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\r\nimport ApiContext from '../context/ApiContext'\r\nimport {\r\n    Row,\r\n    Col,\r\n    Container,\r\n    Card, CardImg, CardText, CardBody,\r\n  CardTitle, CardSubtitle\r\n} from 'reactstrap'\r\n\r\nfunction List() {\r\n    const {list} = useContext(ApiContext)\r\n    const [listing, setlisting] = useState([]);\r\n    const [fetchData, setfetchData] = useState(false);\r\n    const [limit, setlimit] = useState(0)\r\n\r\n    useEffect(() => {\r\n        if (list) {\r\n            let x = list;\r\n            x = x.slice(0,20)\r\n            setlisting(x)\r\n        }\r\n    }, [list])\r\n\r\n    useEffect(() => {\r\n        if (!fetchData) return;\r\n        fetchMoreListItems(20);\r\n    }, [fetchData]);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    function handleScroll() {\r\n        if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || limit){\r\n            setlimit((x) => x + 1)\r\n            setfetchData(true);\r\n        }\r\n    }\r\n\r\n    function fetchMoreListItems(q) {\r\n        setTimeout(() => {\r\n            let l = listing.length;\r\n            let x = list;\r\n            let y = q \r\n            let z = limit * 20\r\n            x = x.slice(z,z + 20)\r\n            setlisting(prevState => ([...prevState, x]));\r\n            setfetchData(false);\r\n        }, 2000);\r\n    }\r\n    return (\r\n        <Row>\r\n        {\r\n        listing.map((v,i) => {\r\n            let size = `${v.size}px`;\r\n            let cents = `$ ${v.price / 100}`\r\n            let finalDate = null\r\n            let oldDate = new Date(v.date);\r\n            let today = new Date()\r\n            let weekAgo = today.getDate() - 7;\r\n            if (oldDate.getTime() > weekAgo.getTime() && oldDate.getTime() < today.getTime() ) {\r\n                let diff = ( today.getTime() - oldDate.getTime() ) / (1000 * 3600 * 24);\r\n                finalDate = `${diff} days ago`\r\n            }else{\r\n                let day = oldDate.getDate();\r\n                let month = oldDate.getMonth() + 1;\r\n                let year = oldDate.getFullYear();\r\n\r\n                finalDate = `${day}/${month}/${year}`\r\n            }\r\n\r\n            \r\n\r\n            return(\r\n                <Col sm=\"6\" xs=\"6\" md=\"2\" key={i} style={{cursor:'pointer'}}>\r\n                    <Card style={{height:'170.15px',width:'140.2px'}} >\r\n                        <CardBody style={{padding:'0.25rem'}}>\r\n                            <CardTitle style={{fontSize:'12px',lineHeight:'1',textAlign:'left',letterSpacing:'0',color:'#4d4d4d', fontWeight:'bold'}}>{v.face}</CardTitle>\r\n                            <CardText style={{position:\"absolute\",bottom:'0',color:'#E01A1A',fontSize:'14px', fontWeight:'bold'}}>{size}</CardText>\r\n                            <CardText style={{position:\"absolute\",bottom:'0',color:'#E01A1A',fontSize:'14px', fontWeight:'bold'}}>{cents}</CardText>\r\n                            <CardText style={{position:\"absolute\",bottom:'0',color:'#E01A1A',fontSize:'14px', fontWeight:'bold'}}>{finalDate}</CardText>\r\n                        </CardBody>\r\n                    </Card> \r\n                    <br/>  \r\n                </Col>\r\n            )\r\n        })\r\n        }\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default List\r\n"]},"metadata":{},"sourceType":"module"}