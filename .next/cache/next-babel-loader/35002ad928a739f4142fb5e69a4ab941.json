{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\projek\\\\creatella-react-front\\\\components\\\\List.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from 'react';\nimport ApiContext from '../context/ApiContext';\nimport { Row, Col, Container, Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from 'reactstrap';\n\nfunction List() {\n  const {\n    list\n  } = useContext(ApiContext);\n  const {\n    0: listing,\n    1: setlisting\n  } = useState([]);\n  const {\n    0: fetchData,\n    1: setfetchData\n  } = useState(false);\n  const {\n    0: limit,\n    1: setlimit\n  } = useState(1);\n  useEffect(() => {\n    if (list) {\n      let x = list;\n      x = x.slice(0, 20);\n      setlisting(x);\n    }\n  }, [list]);\n  useEffect(() => {\n    if (!fetchData) return;\n    fetchMoreListItems(20);\n  }, [fetchData]);\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const handleScroll = () => {\n    let d = document.getElementById('getScroll');\n    let st = d.scrollTop;\n    let ih = d.innerHeight;\n    console.log(window.innerHeight);\n    console.log(document.documentElement.scrollTop);\n    console.log(document.documentElement.offsetHeight);\n    if (window.innerHeight + document.documentElement.scrollTop == document.documentElement.offsetHeight || fetchData) return;\n    setfetchData(true);\n  };\n\n  const fetchMoreListItems = q => {\n    setTimeout(() => {\n      console.log(limit);\n      let l = listing.length;\n      let x = list;\n      let y = q;\n      let z = limit * 20;\n      x = x.slice(z, z + 20);\n      console.log(x);\n      setlisting(prevState => [...prevState, ...x]);\n      setfetchData(false);\n      setlimit(x => x + 1);\n    }, 2000);\n  };\n\n  const clickList = (i, index) => {\n    setId(i);\n    Router.push(`/view?id=${i}`);\n  };\n\n  return __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, listing.map((v, i) => {\n    let size = `${v.size}px`;\n    let cents = v.price / 100;\n    cents = `$ ${cents.toFixed(2)}`;\n    let finalDate = null;\n    let oldDate = new Date(v.date);\n    let today = new Date();\n    let weekAgo = new Date();\n    let week = today.getDate() - 7;\n    weekAgo.setDate(week);\n\n    if (oldDate.getTime() > weekAgo.getTime() && oldDate.getTime() < today.getTime()) {\n      let diff = (today.getTime() - oldDate.getTime()) / (1000 * 3600 * 24);\n      diff = Math.round(diff);\n      finalDate = `${diff} days ago`;\n    } else {\n      let day = oldDate.getDate();\n      let month = oldDate.getMonth() + 1;\n      let year = oldDate.getFullYear();\n      finalDate = `${day}/${month}/${year}`;\n    }\n\n    return __jsx(Col, {\n      sm: \"6\",\n      xs: \"6\",\n      md: \"3\",\n      key: i,\n      style: {\n        cursor: 'pointer'\n      },\n      onClick: () => clickList(v.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, __jsx(Card, {\n      style: {\n        height: '200px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, __jsx(CardBody, {\n      style: {\n        padding: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, __jsx(CardTitle, {\n      style: {\n        fontSize: size,\n        lineHeight: '3',\n        textAlign: 'center',\n        letterSpacing: '0',\n        color: '#4d4d4d',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, v.face), __jsx(CardText, {\n      style: {\n        position: \"absolute\",\n        bottom: '20px',\n        color: '#E01A1A',\n        fontSize: '14px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Size: \", size), __jsx(CardText, {\n      style: {\n        position: \"absolute\",\n        bottom: '3px',\n        color: '#E01A1A',\n        fontSize: '14px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Price: \", cents), __jsx(CardText, {\n      style: {\n        position: \"absolute\",\n        bottom: '0',\n        color: '#E01A1A',\n        fontSize: '14px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Date: \", finalDate))), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }));\n  }), fetchData && 'Getting more faces....');\n}\n\nexport default List;","map":{"version":3,"sources":["C:/wamp64/www/projek/creatella-react-front/components/List.js"],"names":["React","useContext","useState","useEffect","ApiContext","Row","Col","Container","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","List","list","listing","setlisting","fetchData","setfetchData","limit","setlimit","x","slice","fetchMoreListItems","window","addEventListener","handleScroll","removeEventListener","d","document","getElementById","st","scrollTop","ih","innerHeight","console","log","documentElement","offsetHeight","q","setTimeout","l","length","y","z","prevState","clickList","i","index","setId","Router","push","map","v","size","cents","price","toFixed","finalDate","oldDate","Date","date","today","weekAgo","week","getDate","setDate","getTime","diff","Math","round","day","month","getMonth","year","getFullYear","cursor","id","height","padding","fontSize","lineHeight","textAlign","letterSpacing","color","fontWeight","face","position","bottom"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\r\nimport ApiContext from '../context/ApiContext'\r\nimport {\r\n    Row,\r\n    Col,\r\n    Container,\r\n    Card, CardImg, CardText, CardBody,\r\n  CardTitle, CardSubtitle\r\n} from 'reactstrap'\r\n\r\nfunction List() {\r\n    const {list} = useContext(ApiContext)\r\n    const [listing, setlisting] = useState([]);\r\n    const [fetchData, setfetchData] = useState(false);\r\n    const [limit, setlimit] = useState(1)\r\n\r\n    useEffect(() => {\r\n        if (list) {\r\n            let x = list;\r\n            x = x.slice(0,20)\r\n            setlisting(x)\r\n        }\r\n    }, [list])\r\n\r\n    useEffect(() => {\r\n        if (!fetchData) return;\r\n        fetchMoreListItems(20);\r\n    }, [fetchData]);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    const handleScroll = () => {\r\n        let d = document.getElementById('getScroll');\r\n        let st = d.scrollTop;\r\n        let ih = d.innerHeight\r\n        console.log(window.innerHeight);\r\n        console.log(document.documentElement.scrollTop);\r\n        console.log(document.documentElement.offsetHeight);\r\n        if (window.innerHeight + document.documentElement.scrollTop == document.documentElement.offsetHeight || fetchData) return;\r\n        setfetchData(true);\r\n    }\r\n\r\n    const fetchMoreListItems = (q) => {\r\n        setTimeout(() => {\r\n            console.log(limit)\r\n            let l = listing.length;\r\n            let x = list;\r\n            let y = q \r\n            let z = limit * 20\r\n            x = x.slice(z,z + 20)\r\n            console.log(x)\r\n            setlisting(prevState => [...prevState,...x]);\r\n            setfetchData(false);\r\n            setlimit((x) => x+1)\r\n        }, 2000);\r\n    }\r\n\r\n    const clickList = (i, index) =>{\r\n        setId(i)\r\n\r\n        Router.push(`/view?id=${i}`)\r\n    }\r\n    return (\r\n        <Row>\r\n        {\r\n            listing.map((v,i) => {\r\n                let size = `${v.size}px`;\r\n                let cents = v.price / 100\r\n                cents = `$ ${cents.toFixed(2)}`\r\n                let finalDate = null\r\n                let oldDate = new Date(v.date);\r\n                let today = new Date()\r\n                let weekAgo = new Date()\r\n                let week = today.getDate() - 7 ;\r\n                weekAgo.setDate(week)\r\n                if (oldDate.getTime() > weekAgo.getTime() && oldDate.getTime() < today.getTime() ) {\r\n                    let diff = ( today.getTime() - oldDate.getTime() ) / (1000 * 3600 * 24);\r\n                    diff = Math.round(diff)\r\n                    finalDate = `${diff} days ago`\r\n                }else{\r\n                    let day = oldDate.getDate();\r\n                    let month = oldDate.getMonth() + 1;\r\n                    let year = oldDate.getFullYear();\r\n\r\n                    finalDate = `${day}/${month}/${year}`\r\n                }\r\n\r\n                \r\n\r\n                return(\r\n                    <Col sm=\"6\" xs=\"6\" md=\"3\" key={i} style={{cursor:'pointer'}} onClick={() => clickList(v.id)}>\r\n                        <Card style={{height:'200px'}} >\r\n                            <CardBody style={{padding:'10px'}}>\r\n                                <CardTitle style={{fontSize:size,lineHeight:'3',textAlign:'center',letterSpacing:'0',color:'#4d4d4d', fontWeight:'bold'}}>{v.face}</CardTitle>\r\n                                <CardText style={{position:\"absolute\",bottom:'20px',color:'#E01A1A',fontSize:'14px', fontWeight:'bold'}}>Size: {size}</CardText>\r\n                                <CardText style={{position:\"absolute\",bottom:'3px',color:'#E01A1A',fontSize:'14px', fontWeight:'bold'}}>Price: {cents}</CardText>\r\n                                <CardText style={{position:\"absolute\",bottom:'0',color:'#E01A1A',fontSize:'14px', fontWeight:'bold'}}>Date: {finalDate}</CardText>\r\n                            </CardBody>\r\n                        </Card> \r\n                        <br/>  \r\n                        \r\n\r\n                    </Col>\r\n                )\r\n            })\r\n        }\r\n        {fetchData && 'Getting more faces....'}\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default List\r\n"]},"metadata":{},"sourceType":"module"}